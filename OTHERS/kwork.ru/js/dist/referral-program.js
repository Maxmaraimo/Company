!function(){"use strict";var e={57625:function(e,t,r){r.d(t,{Z:function(){return o}});var n=function(e,t,r,n,o,i,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:c}}({mixins:[{data:function(){return{locale:document.documentElement.lang||"ru",defaultLocale:"ru",enLocale:"en",actorLang:window.actor_lang||document.documentElement.lang||"ru"}},computed:{l:function(){return window.l},lp:function(){return window.lp},siteLang:function(){return document.documentElement.lang},isDefaultLang:function(){return this.siteLang===this.defaultLocale},isEn:function(){return this.siteLang===this.enLocale},isEs:function(){return"es"===this.siteLang},isFr:function(){return"fr"===this.siteLang}},methods:{forceLocale:function(e){this.locale=e}}}],data:function(){return{referralLink:"",userId:window.USER_ID||null,isLinkGenerated:!1,isLinkCopied:!1}},watch:{referralLink:function(){this.debouncedCheckReferralLink()}},created:function(){this.debouncedCheckReferralLink=_.debounce(this.checkReferralLink,200)},methods:{generateLink:function(){if(this.referralLink)if(this.userId){if(this.isLinkGenerated)return this.$refs.referralLink.select(),document.execCommand("copy"),void(this.isLinkCopied=!0);if(!this.isLinkCopied){var e=this.referralLink.toString().trim(),t=-1===e.indexOf("?")?"?":"&";this.referralLink=e+t+"ref="+this.userId,this.isLinkGenerated=!0}}else axios.get("/api/ban/disallowfreeregister").then((function(e){window.signinSignup.showSignup("",!1,e.data)})).catch((function(){}))},checkReferralLink:function(){this.referralLink||(this.isLinkGenerated=!1,this.isLinkCopied=!1)},onPaste:function(){this.isLinkGenerated=!1,this.isLinkCopied=!1}}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"referral-program__action-form"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.referralLink,expression:"referralLink"}],ref:"referralLink",staticClass:"referral-program__action-form-field",attrs:{type:"text",placeholder:e.l("formPlaceholder","pages/referral-program/generate-link")},domProps:{value:e.referralLink},on:{paste:e.onPaste,input:function(t){t.target.composing||(e.referralLink=t.target.value)}}}),e._v(" "),r("button",{staticClass:"kw-button kw-button--green kw-button--size-40 kw-button--no-padding referral-program__action-form-button",class:{disabled:!e.referralLink},on:{click:e.generateLink}},[e.isLinkGenerated?[e._v("\n\t\t\t"+e._s(e.l("formButtonCopy","pages/referral-program/generate-link"))+"\n\t\t")]:[e._v("\n\t\t\t"+e._s(e.l("formButtonGenerate","pages/referral-program/generate-link"))+"\n\t\t")]],2),e._v(" "),e.isLinkCopied?r("div",{staticClass:"referral-program__action-form-message"},[e._v("\n\t\t"+e._s(e.l("formInfo","pages/referral-program/generate-link"))+"\n\t")]):e._e()])}),[],!1,null,null,null),o=n.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},void 0!==r&&Object.defineProperty(r,"p",{get:function(){try{if("string"!=typeof chunkCdnUrl)throw new Error("WebpackRequireFrom: 'chunkCdnUrl' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return chunkCdnUrl}catch(e){return console.error(e),"/"}},set:function(e){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+e+".")}}),function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:String(r)}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectors={el:".js-referral-link-copy",wrapper:".referral-program__action-footer",hiddenField:"referral-program__action-footer-field"},this.eventListeners()}var r,n,o;return r=e,(n=[{key:"eventListeners",value:function(){var e=this;$(this.selectors.el).on("click",(function(t){e.copyLink(t)})),$(window).on("resize",_.throttle((function(){e.closeTooltip()}),200)),$(document).click((function(t){0===$(t.target).closest(e.selectors.el).length&&e.closeTooltip()})),window.defferScripts.on("tooltipster",(function(){$(e.selectors.el).tooltipster(TOOLTIP_CONFIG)}))}},{key:"copyLink",value:function(e){window.defferScripts.on("tooltipster",(function(){setTimeout((function(){t.tooltipster("content",t.data("tooltip-text")).tooltipster("open")}))}));var t=$(e.currentTarget),r=$('<input type="text" class="'.concat(this.selectors.hiddenField,'">'));r.val(t.data("referral-url")),t.closest(this.selectors.wrapper).append(r),r.select(),document.execCommand("copy"),r.remove()}},{key:"closeTooltip",value:function(){var e=this;window.defferScripts.on("tooltipster",(function(){setTimeout((function(){$(e.selectors.el).tooltipster("close")}))}))}}])&&t(r.prototype,n),o&&t(r,o),Object.defineProperty(r,"prototype",{writable:!1}),e}();Vue.component("referral-program-link",r(57625).Z),window.referralProgramLink=new Vue({el:"#referral-program-link"}),new o}()}();