{% extends 'base.html' %}
{% load static %}
{% load django_bootstrap5 %}

{% block title %}
  <title>Jobs</title>
{% endblock %}

{% block link %}
  {% comment %} <link rel="stylesheet" href="{% static 'css/works.css' %}" /> {% endcomment %}
{% endblock %}

{% block style %}
  <style>
    .all-books {
      background-image: linear-gradient(to right, snow, lightgray);
      border-radius: 0 20px 20px 20px;
      padding: 50px;
      border: 1px solid green;
    }
    .book {
      border-radius: 10px;
      padding: 25px;
      background-image: linear-gradient(to right, snow, snow);
      border: 1px solid green;
      margin: 20px 40px;
    }
    .book:hover {
      transform: scale(0 0.03);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    .book hr {
      background-color: green;
    }
    .d-flex {
      width: 1200px;
    }
    .carousel-item {
      width: 980px;
      height: 210px;
      color: snow;
      background-color: rgba(11, 11, 169, 0.931);
      border-radius: 15px;
    }
    .carousel-item .h5,
    .p {
      color: snow;
      text-align: left;
      font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      margin: 10px 20px;
      position: relative;
      top: 10px;
    }
    .carousel-item .h5 {
      font-size: 25px;
    }
    .carousel-item .p {
      font-size: 15px;
    }
    
    .carousel-item button {
      margin: 10px -120px;
    }
    .green_buttons {
      border-radius: 15px;
      border: none;
      background-color: green;
      color: snow;
      padding: 5px;
      width: 170px;
      margin: 10px 20px;
    }
    .snow_button {
      border-radius: 15px;
      background-color: snow;
      color: black;
      padding: 3px;
      width: 170px;
      margin: 10px 20px;
      justify-content: left;
    }
    .leftss {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .leftss .ch_1 {
      width: 1000px;
      margin: 10px -60px;
    }
    .ch_2 {
      width: 330px;
      height: 720px;
      background-color: rgb(14, 183, 104);
      color: snow;
      margin: 10px 50px;
      border-radius: 15px;
      text-align: center;
    }
    .ch_2 h1, a {
      font-family: Georgia, 'Times New Roman', Times, serif;  
      font-size: 20px;
    }
    .ch_2 h1, .profile {
      text-decoration: none;
      color: snow;
      margin: 20px 40px;
    }
    .ch_2 .profile:hover {
      color: snow;
      text-decoration: underline;
    }
    hr {
      width: 230px;
      box-shadow: 5px 5px 8px green, -5px -5px 8px orangered;
      margin: 0 auto;
    }
    .select-label {
      text-align: left;
      margin: 10px -110px;
    }
    .select-label span {
      margin: 10px 1px;
    }
    .ch_2 .me {
      font-family: Georgia, 'Times New Roman', Times, serif;  
      font-size: 15px;
      margin: 10px 20px;
      text-align: left;
    }
    .ch_2 .logout {
      text-decoration: none;
      color: snow;
      font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      font-size: 15px;
      margin: 10px 30px;
      float: left;
    }
    .ch_2 .logout:hover {
      text-decoration: underline;
    }
  </style>
{% endblock %}

{% block content %}
  <br />
  <br />
  <h1>Jobs you might like</h1>
  <form class="d-flex">
    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
    <button class="btn btn-outline-success" type="submit">Search</button>
  </form><br /><br />
  {% comment %} {% endcomment %}

  <div class="leftss">
    <div class="ch_1">
      <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active" data-bs-interval="10000">
            <div class="carousel-caption d-none d-md-block">
              <h5 class="h5">Learn how to get started an empUpWork</h5>
              <p class="p">Upwork 101 will guide you through the basics of our platform: setting up your profile, submitting proposals and how to grow your business.</p>
              <button class="green_buttons">Explore empUpWork</button>
            </div>
          </div>
          <div class="carousel-item" data-bs-interval="2000" style="background-color: snow;">
            <div class="carousel-caption d-none d-md-block">
              <h5 style="color: black;" class="h5">Stand out in search results by boosting your</h5>
              <h5 style="color: black;" class="h5">Catalog projects</h5>

              <button class="green_buttons">Boost a project</button>
            </div>
          </div>
          <div class="carousel-item">
            <div class="carousel-caption d-none d-md-block">
              <h5 class="h5">Get 80 Connects each month</h5>
              <p class="p">oin Freelancer Plus to start each month fresh with 80 Connects. You'll get a lot of other perks too! Join now to unlock new features to help you grow your network and market your skills.</p>
              <button class="snow_button">Learn more</button>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

      {% comment %} {% endcomment %}

      <br />
      <br />
      <div class="container-fluid">
        <div class="all-books">
          {% if object_list %}
            {% for book in object_list %}
              <div class="book">
                <div class="book-header">
                  {% comment %}to filter created we can use | date:'d-m-Y' or | timesince or | timeuntil{% endcomment %}
                  <small class="text-secondary">Created at: {{ book.created|date:'d-m-Y' }}</small>
                  <p class="book-cost">$ {{ book.price }} {{ book.author }} => {{ book.genre }} work</p>
                </div>
                {% comment %} <img src="{{ book.image.url }}" alt="{{ book.title }}" /> {% endcomment %}
                {% comment %} <hr /> {% endcomment %}
                <h3>{{ book.title }}</h3>
                {% comment %} <img src="{{ book.image.url }}" alt="{{ book.title }}" /> {% endcomment %}
                <p>{{ book.description }}</p>

                {% comment %}we update it if only current user is creator of book{% endcomment %}
                {% comment %} {% if book.creator == request.user %}
                  {% endcomment %}
                  <div class="book-footer">
                    <hr />

                    {% if book.author.id == request.user.id %}
                      <a href="{% url 'update_book' book.id %}" class="btn btn-sm col-sm-4 btn-outline-primary">Update</a>
                      <a href="{% url 'delete_book' book.id %}" class="btn btn-sm col-sm-4 btn-outline-danger">Delete</a>
                    {% else %}
                      {% comment %} <a href="{% url 'book_details' book.id %}" class="btn btn-sm col-sm-6 btn-outline-success">Apply Now</a>
                      <a href="{% url 'book_details' book.id %}" class="btn btn-sm col-sm-6 btn-outline-success">Apply Now</a> {% endcomment %}
                      <a href="{% url 'book_details' book.id %}" class="btn btn-sm col-sm-4 btn-outline-success">Apply Now</a>
                      <a href="{% url 'add_to_wishlist' book.id %}" class="btn btn-sm col-sm-4 btn-success">Add to wishlist</a>
                    {% endif %}
                  </div>
                  {% comment %}
                {% endif %} {% endcomment %}
              </div>
            {% endfor %}
          {% else %}
            <p>No books found</p>
          {% endif %}
        </div>
      </div>
    </div>

    {% comment %} {% endcomment %}
    <div class="ch_2">
      <h1><a class="profile" href="{% url 'profile' %}">{{ user.username }} profile</a></h1>
      <hr>
      <div class="select-wrapper">
        <label for="type" class="select-label"><span>Вы:</span></label>
        <select id="type" name="type">
          <option value="freelancer">Freelancer</option>
          <option value="client">Client</option>
        </select>
      </div>
      <h2 class="me">Me: Lorem, ipsum dolor sit amet consectetur adipisicing elit. Modi natus nesciunt, consequuntur officiis assumenda vitae culpa saepe.</h2>
      <hr>
      <a href="{% url 'logout' %}" class="logout">Logout → </a>
    </div>
  </div>
{% endblock %}

{% block script %}

{% endblock %}
